import { cn } from "@/lib/utils";

export type PriceContainerProps = {
  originalPrice: number;
  discountPrice?: number;
  currency?: string;
  isPrimary?: boolean;
  suffix?: string;
  annualSavings?: number;
  className?: string;
};

export default function PriceContainer({
  originalPrice,
  discountPrice,
  isPrimary = false,
  suffix = "/month",
  annualSavings,
  className,
}: PriceContainerProps) {
  const formattedOriginalPrice = `$${originalPrice.toFixed(2)}`;
  const formattedDiscountPrice = discountPrice
    ? `$${discountPrice.toFixed(2)}`
    : null;

  return (
    <div className={cn("font-sans", className)}>
      <div>
        <span
          className={cn("text-4xl font-medium tracking-tight", {
            "text-gray-300 dark:text-gray-300/50 line-through": discountPrice,
          })}
        >
          {formattedOriginalPrice}
        </span>
      </div>

      {discountPrice && (
        <div className="flex">
          <div className="mt-7 relative">
            <span className="text-4xl font-medium tracking-tight text-foreground">
              {formattedDiscountPrice || formattedOriginalPrice}
            </span>
            <span className="text-sm/6 font-semibold text-muted-foreground">
              {suffix}
            </span>
            <PriceContainerSVG
              isPrimary={isPrimary}
              disabled={!discountPrice}
            />
          </div>
        </div>
      )}
      {annualSavings && (
        <div className="mt-8 text-sm text-foreground text-right relative">
          ☝️ That&apos;s ${annualSavings} saved annually!
        </div>
      )}
    </div>
  );
}

function PriceContainerSVG({
  isPrimary,
  disabled,
}: {
  isPrimary: boolean;
  disabled?: boolean;
}) {
  return (
    <svg
      viewBox="0 0 864.718323 423.002997"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      className={cn(
        "absolute -top-1/2 -translate-y-2 -left-4 -right-4",
        isPrimary
          ? "text-primary/30 dark:text-primary/50"
          : "text-gray-300/80 dark:text-slate-300/30",
        {
          hidden: disabled,
        },
      )}
    >
      <g
        id="Page-1"
        stroke="none"
        strokeWidth="1"
        fill="none"
        fillRule="evenodd"
      >
        <g
          transform="translate(-2199.776015, -1470.276955)"
          fill="currentColor"
          fillRule="nonzero"
        >
          <g
            id="g10"
            transform="translate(2602.666602, 1024.799974) scale(-1, 1) rotate(-180.000000) translate(-2602.666602, -1024.799974) translate(0.000000, 0.000000)"
          >
            <path
              d="M2442.50661,541.666653 L2435.05327,539.466653 L2427.66661,537.01332 L2412.89327,532.119987 L2398.25327,526.69332 C2393.37327,524.906654 2388.49327,523.079987 2383.70661,520.986654 L2369.27994,514.959987 L2355.07994,508.319987 L2347.98661,504.973321 L2341.03994,501.306654 C2336.42661,498.799988 2331.71994,496.519988 2327.19994,493.853321 L2313.66661,485.786655 C2309.14661,483.119988 2304.87994,479.959988 2300.49328,477.079988 C2298.31994,475.573321 2296.10661,474.159988 2293.95994,472.599988 L2287.58661,467.653322 C2283.41328,464.333322 2278.90661,461.119988 2275.27994,457.613322 L2269.55994,452.466655 L2266.70661,449.893322 L2265.05328,448.373322 L2263.63994,446.933322 C2261.78661,444.999989 2259.86661,443.146656 2258.06661,441.159989 L2252.74661,435.119989 C2248.05328,429.546656 2243.74661,423.639989 2239.83994,417.453323 C2243.99994,424.373323 2248.75994,431.066656 2254.02661,437.439989 L2256.41328,440.386656 L2258.98661,443.213322 L2264.13328,448.853322 C2267.85328,452.399989 2271.26661,456.239989 2275.21328,459.613322 L2280.98661,464.826655 L2287.03994,469.773322 C2291.01328,473.173322 2295.35994,476.159988 2299.54661,479.333321 C2303.82661,482.399988 2308.10661,485.226655 2312.50661,488.173321 L2319.49328,492.479988 L2322.99994,494.639988 C2323.82661,495.186654 2325.22661,495.919988 2326.31994,496.546654 C2330.99994,499.146654 2335.59994,501.879987 2340.43994,504.239987 C2345.21327,506.706654 2349.99994,509.159987 2354.91994,511.386654 C2374.47994,520.546654 2394.85327,528.346653 2415.63994,534.97332 C2433.93327,540.759986 2452.55994,545.61332 2471.3066,549.69332 C2461.67994,547.186653 2452.07994,544.519986 2442.50661,541.666653 L2442.50661,541.666653 Z M3064.17326,396.95999 C3063.03992,415.186656 3056.87992,433.173323 3047.55992,448.999989 C3038.25326,464.906655 3025.97326,478.946655 3012.18659,491.253321 C2998.35993,503.559987 2983.01326,514.25332 2966.71993,523.519987 C2958.61326,528.279987 2950.10659,532.306653 2941.59993,536.426653 C2937.26659,538.29332 2932.91993,540.17332 2928.55993,542.05332 C2924.22659,543.97332 2919.59993,545.506653 2915.11993,547.239986 C2879.62659,560.493319 2841.3866,568.599986 2802.65326,573.679986 C2753.43993,579.613319 2702.89327,580.719985 2651.93327,577.693319 C2637.15993,578.573319 2622.21327,579.079986 2607.11993,578.973319 C2596.29327,579.119986 2585.5866,578.559986 2574.5066,578.253319 C2569.11994,577.933319 2563.71994,577.613319 2558.3066,577.293319 C2552.8666,576.919986 2547.33327,576.386652 2541.83994,575.946652 C2497.97327,571.853319 2453.74661,563.919986 2410.66661,551.13332 C2367.67994,538.33332 2325.54661,520.826654 2288.19994,495.573321 C2283.61328,492.293321 2278.91994,489.213321 2274.53328,485.666655 L2267.87994,480.479988 L2261.47994,474.986655 C2257.13328,471.426655 2253.19994,467.359988 2249.10661,463.519988 L2243.33328,457.359989 L2240.46661,454.279989 L2237.75994,451.026655 C2223.22661,433.919989 2211.34661,414.15999 2204.89328,392.453324 C2201.58661,381.63999 2200.01328,370.333324 2199.82661,359.133324 C2199.77908,356.586658 2199.69328,354.133324 2199.97328,351.079991 C2200.19994,348.199991 2200.25328,345.199991 2200.69328,342.466658 C2201.13328,339.733325 2201.55994,337.013325 2201.99994,334.293325 C2202.55994,331.613325 2203.25328,328.973325 2203.89328,326.319996 C2206.75994,315.839992 2210.59994,305.773326 2215.58661,296.546659 C2220.58661,287.359993 2226.18661,278.679993 2232.57328,270.90666 C2257.77328,239.346661 2289.99994,218.706661 2320.21328,203.666662 C2335.41327,196.053328 2350.51994,190.079995 2365.03994,185.039995 C2379.54661,179.919996 2393.51994,175.826662 2406.77327,172.559996 C2433.27994,165.973329 2456.75994,162.239996 2476.13327,160.013329 C2485.79994,158.759996 2494.49327,158.239996 2502.0266,157.586663 C2509.5866,157.173329 2515.99994,156.773329 2521.19994,156.626663 C2531.61327,156.426663 2537.17327,156.319996 2537.17327,156.319996 L2537.27994,158.439996 C2537.27994,158.439996 2531.79994,159.093329 2521.5066,160.319996 C2516.37327,161.053329 2510.05327,161.946663 2502.6266,162.999996 C2495.23994,164.293329 2486.73327,165.599996 2477.29327,167.506662 C2458.39994,171.213329 2435.59994,176.466662 2410.13327,184.453329 C2406.93327,185.399995 2403.73327,186.519995 2400.49327,187.626662 C2397.23994,188.733329 2393.93327,189.853329 2390.58661,190.986662 C2383.95994,193.466662 2377.09327,195.879995 2370.23994,198.786662 C2362.30661,202.013328 2354.22661,205.586662 2346.10661,209.479995 C2348.51994,208.573328 2350.94661,207.706661 2353.37327,206.826661 C2358.11994,205.186662 2362.77327,203.266662 2367.57327,201.866662 C2377.13327,198.973328 2386.61327,195.906662 2396.26661,193.653328 C2415.41327,188.533329 2434.75994,185.119995 2453.93327,181.946662 C2492.41327,176.266662 2530.57327,173.799996 2567.89327,173.706662 C2586.55994,173.599996 2605.01327,174.306662 2623.21327,175.359996 C2632.31993,175.919996 2641.3866,176.813329 2650.37327,177.519996 C2659.31993,178.506662 2668.0266,179.453329 2676.95993,180.559995 C2747.35993,189.839995 2812.9466,207.079995 2869.75993,232.226661 C2898.10659,244.839994 2924.23993,259.54666 2946.79993,276.853326 C2949.57326,279.06666 2952.51993,281.02666 2955.11993,283.399993 C2957.74659,285.719993 2960.35993,288.039993 2962.94659,290.333326 L2966.82659,293.773326 C2968.06659,294.973326 2969.23993,296.266659 2970.43993,297.493326 C2972.82659,299.986659 2975.18659,302.466659 2977.54659,304.933326 L2979.29326,306.786659 L2980.82659,308.719992 L2983.89326,312.599992 C2985.93326,315.239992 2987.90659,317.546659 2989.97326,320.426659 C2993.66659,325.879992 2997.15993,331.386658 2999.87993,337.186658 C3011.42659,360.133324 3013.61326,385.533324 3008.38659,406.99999 C3003.38659,428.639989 2992.31993,446.293322 2980.57326,460.053322 C2968.77326,473.933321 2955.97326,484.079988 2944.47993,492.106654 C2932.90659,500.106654 2922.35993,505.773321 2913.71993,510.106654 C2909.38659,512.266654 2905.53326,514.09332 2902.13326,515.546654 C2898.75993,517.05332 2895.90659,518.29332 2893.58659,519.17332 C2888.97326,521.026654 2886.58659,521.97332 2886.58659,521.97332 L2885.78659,520.026654 C2885.78659,520.026654 2888.15993,519.039987 2892.75993,517.13332 C2895.06659,516.199987 2897.87993,514.946654 2901.18659,513.41332 C2904.53326,511.933321 2908.33326,510.066654 2912.59993,507.879987 C2921.10659,503.479987 2931.46659,497.733321 2942.78659,489.693321 C2954.02659,481.613321 2966.49326,471.466655 2977.85326,457.746655 C2989.15993,444.159989 2999.63993,426.866656 3004.15992,406.03999 C3008.89326,385.386657 3006.49326,361.306658 2995.19993,339.519992 C2992.53326,334.013325 2989.10659,328.786658 2985.50659,323.599992 C2983.78659,321.239992 2981.50659,318.613325 2979.50659,316.093325 L2976.39993,312.266659 L2974.82659,310.346659 L2973.13326,308.599992 C2970.85326,306.279992 2968.55993,303.946659 2966.25326,301.599992 C2965.07993,300.426659 2963.95993,299.226659 2962.75993,298.079993 L2958.93326,294.786659 C2956.37326,292.573326 2953.79993,290.359993 2951.21326,288.119993 C2948.66659,285.853326 2945.74659,283.959993 2942.99993,281.839993 C2920.75993,265.213327 2894.87993,251.079994 2866.79993,238.999994 C2810.5066,214.946661 2745.41326,198.719995 2675.73327,190.439995 C2667.13327,189.479995 2658.1466,188.639995 2649.29327,187.773329 C2640.43993,187.186662 2631.57327,186.453329 2622.5866,185.986662 C2604.61327,185.119995 2586.3866,184.586662 2567.97327,184.866662 C2531.1466,185.319996 2493.5466,188.119995 2455.82661,194.053328 C2437.05327,197.359995 2418.11994,200.879995 2399.50661,206.053328 C2390.10661,208.346661 2380.93327,211.413328 2371.66661,214.319996 C2367.02661,215.719995 2362.55994,217.626661 2357.98661,219.253328 C2353.42661,220.946661 2348.82661,222.559994 2344.42661,224.626661 C2339.98661,226.573328 2335.53327,228.519994 2331.06661,230.479994 C2326.74661,232.706661 2322.43994,234.946661 2318.10661,237.173327 L2314.86661,238.853327 L2314.05328,239.266661 L2313.37328,239.666661 L2311.75994,240.613327 L2305.30661,244.413327 C2301.29328,247.053327 2297.23994,249.519994 2293.33328,252.42666 C2277.50661,263.599993 2263.34661,277.199993 2252.71994,293.106659 C2242.09328,308.973326 2235.45328,327.373325 2234.73328,346.253325 C2233.85328,365.133324 2239.02661,384.106657 2248.34661,400.933323 C2252.98661,409.373323 2258.61328,417.346656 2264.95994,424.759989 L2269.86661,430.199989 C2271.51994,431.999989 2273.30661,433.693322 2275.02661,435.439989 L2276.31994,436.746656 L2277.51994,437.813322 L2280.39994,440.359989 L2286.15994,445.453322 C2289.98661,449.053322 2293.93328,451.706655 2297.81328,454.746655 L2303.65328,459.186655 C2305.66661,460.626655 2307.79994,461.959988 2309.86661,463.359988 C2314.07994,466.066655 2318.11994,469.013322 2322.46661,471.519988 L2335.47994,479.093321 C2339.83994,481.599988 2344.41327,483.746655 2348.86661,486.093321 L2355.57327,489.533321 L2362.45327,492.693321 L2376.23994,498.919988 L2390.29327,504.599987 C2394.94661,506.559987 2399.70661,508.279987 2404.46661,509.959987 L2418.74661,515.05332 L2433.19994,519.639987 L2440.42661,521.93332 L2447.71994,523.986654 C2486.5866,535.079987 2526.1866,543.239986 2565.85327,548.679986 C2621.6666,556.186653 2677.51993,559.426653 2731.9466,557.346653 C2741.1066,555.826653 2750.19993,554.413319 2759.07993,552.506653 C2768.61326,550.746653 2777.89326,548.49332 2787.07993,546.359986 C2805.33326,541.65332 2823.03993,536.69332 2839.61326,530.41332 C2841.7066,529.666653 2843.77326,528.919987 2845.83993,528.17332 C2847.87993,527.346653 2849.9066,526.519987 2851.91993,525.69332 C2855.93326,524.026654 2859.97326,522.479987 2863.8666,520.759987 C2871.55993,517.13332 2879.15993,513.85332 2886.46659,509.746654 C2915.57326,494.639988 2939.50659,475.479988 2955.90659,454.613322 C2964.10659,444.186656 2970.38659,433.346656 2974.51993,422.679989 C2978.79993,412.03999 2980.71993,401.573323 2981.27993,392.11999 C2982.09326,373.026657 2976.97326,358.359991 2972.66659,349.173325 C2971.65326,346.813325 2970.55993,344.839991 2969.63993,343.133325 C2968.75993,341.399991 2967.90659,339.973325 2967.18659,338.839992 C2965.78659,336.546658 2965.05326,335.373325 2965.05326,335.373325 L2966.85326,334.239992 C2966.85326,334.239992 2967.59993,335.413325 2969.05326,337.666658 C2969.79993,338.773325 2970.69326,340.186658 2971.65326,341.959991 C2972.65326,343.693325 2973.82659,345.719991 2974.91993,348.093325 C2977.29326,352.786658 2979.77326,358.813324 2981.74659,366.199991 C2983.69326,373.573324 2985.07993,382.35999 2984.83993,392.23999 C2984.50659,402.093323 2982.74659,413.053323 2978.57326,424.213323 C2974.54659,435.413322 2968.27993,446.813322 2960.06659,457.786655 C2943.62659,479.786655 2919.42659,500.066654 2890.01326,516.239987 C2882.91993,520.45332 2875.05326,524.119987 2867.19993,528.039987 C2863.23993,529.906653 2859.17326,531.57332 2855.1066,533.386653 C2853.0666,534.266653 2851.0266,535.159987 2848.97326,536.05332 C2846.87993,536.866653 2844.7866,537.679987 2842.67993,538.49332 C2831.27993,543.119986 2819.33326,547.106653 2807.0666,550.85332 C2842.11993,546.05332 2876.09326,538.746653 2908.01326,526.999987 C2912.15993,525.399987 2916.34659,524.066654 2920.45326,522.25332 C2924.57326,520.506654 2928.66659,518.759987 2932.75993,517.026654 C2940.75993,513.186654 2948.77326,509.466654 2956.33326,505.066654 C2971.57326,496.559988 2985.93326,486.946654 2998.63993,475.933321 C3011.33326,464.933322 3022.41326,452.533322 3030.63992,438.906656 C3038.89326,425.306656 3044.10659,410.51999 3045.26659,395.573323 C3045.39992,393.55999 3045.70659,391.333324 3045.69326,389.493324 L3045.51992,384.173324 C3045.63992,380.706657 3044.86659,376.893324 3044.43992,373.226657 C3044.27992,371.373324 3043.85326,369.546657 3043.38659,367.746657 L3042.09326,362.306658 C3041.17326,358.706658 3039.73326,355.226658 3038.59992,351.693325 C3033.23992,337.773325 3025.25326,324.999992 3016.03992,313.506659 C3006.82659,301.999992 2996.35993,291.786659 2985.54659,282.399993 C2974.59993,273.159993 2963.15993,264.919993 2951.61326,257.439994 C2948.73326,255.559994 2945.75993,253.86666 2942.85326,252.093327 L2938.50659,249.46666 C2937.82659,249.06666 2936.95993,248.50666 2936.43993,248.239994 L2934.18659,246.999994 C2928.18659,243.746661 2922.25326,240.359994 2916.45326,237.573327 C2913.53326,236.119994 2910.65326,234.679994 2907.77326,233.239994 C2904.83993,231.893328 2901.91993,230.559994 2899.01326,229.226661 C2893.25326,226.493328 2887.43993,224.079994 2881.71993,221.719994 C2858.81326,212.253328 2836.73326,204.853328 2816.07993,198.799995 C2805.77326,195.679995 2795.7866,193.039995 2786.23993,190.479995 C2776.63993,188.159995 2767.5066,185.799995 2758.73326,183.973329 C2723.75993,176.213329 2695.81327,172.226662 2676.77327,169.626662 C2667.25327,168.239996 2659.91993,167.506662 2654.97327,166.906662 C2650.03993,166.333329 2647.49327,166.039996 2647.49327,166.039996 L2647.65327,163.933329 C2647.65327,163.933329 2650.2266,164.093329 2655.19993,164.399996 C2660.17327,164.733329 2667.55993,165.079996 2677.17327,165.933329 C2696.41327,167.439996 2724.61327,170.439996 2760.1866,176.679996 C2795.7466,182.826662 2838.75993,192.666662 2886.17326,210.466661 C2892.09326,212.693328 2898.10659,214.986661 2904.09326,217.599995 C2907.10659,218.866661 2910.14659,220.146661 2913.21326,221.439994 C2916.25326,222.853328 2919.30659,224.266661 2922.38659,225.693328 C2928.66659,228.479994 2934.55993,231.626661 2940.67993,234.706661 L2942.97326,235.866661 C2943.97326,236.373327 2944.55993,236.746661 2945.38659,237.186661 L2949.98659,239.773327 C2953.05326,241.533327 2956.19993,243.199994 2959.25326,245.066661 C2971.51993,252.479994 2983.77326,260.733327 2995.65326,270.159993 C3007.43992,279.733326 3018.81326,290.506659 3029.15992,302.826659 C3039.45326,315.146659 3048.70659,329.133325 3055.23992,345.039991 C3056.66659,349.093325 3058.37326,353.079991 3059.55992,357.279991 L3061.22659,363.639991 C3061.81326,365.759991 3062.34659,367.893324 3062.61326,370.106657 C3063.23992,374.533324 3064.18659,378.786657 3064.21326,383.586657 L3064.49382,390.63999 C3064.50659,392.933324 3064.27992,394.83999 3064.17326,396.95999"
              id="path32"
            ></path>
          </g>
        </g>
      </g>
    </svg>
  );
}
